<p-card class="mb-3">
  <div class="flex justify-content-between align-items-center mb-2">
    <div>
      <h3 class="m-0">{{ prompt().title }}</h3>
      <div class="text-sm text-color-secondary">&#64;{{ prompt().author.username }}</div>
    </div>
    <div class="flex gap-2">
      @if (canEdit()) {
        <p-button
          [routerLink]="['/prompts', prompt().id, 'edit']"
          icon="pi pi-pencil"
          size="small"
          [text]="true"
        />
      }
      <p-button icon="pi pi-copy" size="small" [text]="true" (onClick)="copyToClipboard()"/>
    </div>
  </div>
  <textarea pTextarea readonly class="w-full mb-2" rows="8">{{ prompt().content }}</textarea>
  <div class="flex justify-content-between align-items-center">
    <p-tag [value]="prompt().category.name" severity="secondary"/>
    <div class="flex gap-2 align-items-center">
      <p-button
        [loading]="voting()"
        (onClick)="upvote()"
        [severity]="userVote() === 'up' ? 'primary' : 'secondary'"
        icon="pi pi-thumbs-up" size="small"/>
      <span>{{ score() }}</span>
      <p-button
        [loading]="voting()"
        (onClick)="downvote()"
        [severity]="userVote() === 'down' ? 'primary' : 'secondary'"
        icon="pi pi-thumbs-down" size="small"/>
    </div>
  </div>
</p-card>
