<p-card header="Créer un compte">
  <form [formGroup]="form" (ngSubmit)="submit()" class="flex flex-column gap-3">
    <div class="flex flex-column gap-2">
      <label for="username">Identifiant</label>
      <input pInputText id="username" formControlName="username" class="w-full" />
      @if (form.controls.username.invalid && form.controls.username.touched) {
        <small class="p-error">L'identifiant est requis.</small>
      }
    </div>
    <div class="flex flex-column gap-2">
      <label for="password">Mot de passe (min. 4 caractères)</label>
      <p-password
        id="password"
        formControlName="password"
        [feedback]="true"
        [toggleMask]="true"
        inputStyleClass="w-full"
      />
      @if (form.controls.password.invalid && form.controls.password.touched) {
        <small class="p-error">Le mot de passe est requis (min. 4 caractères).</small>
      }
    </div>
    <div class="flex gap-2">
      <p-button
        type="submit"
        label="Créer le compte"
        icon="pi pi-user-plus"
        [loading]="submitting"
        size="small"
      />
      <p-button
        type="button"
        label="Déjà un compte ? Connexion"
        severity="secondary"
        routerLink="/login"
        size="small"
      />
    </div>
  </form>
</p-card>
